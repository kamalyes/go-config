# cache模块配置文件
# 模块名称: cache
# 包名: cache  
# 描述: 缓存模块
# 生成时间: 2025-11-28 08:16:35
# 注意: 此文件由配置生成器自动生成

# 模块标识名称 (字符串)
module-name: default
# type (字符串)
type: memory
# 是否启用该功能 (true/false)
enabled: true
# default ttl (时间间隔: 如 30s, 5m, 1h)
default-ttl: 30m0s
# key prefix (字符串)
key-prefix: 'cache:'
# json, gob, msgpack
serializer: json
# 嵌套配置
memory:
    # 模块标识名称 (字符串)
    module-name: memory
    capacity: 1000
    # default ttl (时间间隔: 如 30s, 5m, 1h)
    default-ttl: 30m0s
    cleanup-size: 100
    max-size: 0
# 嵌套配置
ristretto:
    # 模块标识名称 (字符串)
    module-name: ristretto
    num-counters: 10000000
    max-cost: 1073741824
    buffer-items: 64
    metrics: true
    ignore-internal-cost: false
    key-to-hash: true
    cost: 1
# 嵌套配置
redis:
    # 模块标识名称 (字符串)
    module-name: redis
    addr: 127.0.0.1:6379
    addrs:
        - 127.0.0.1:6379
    username: default
    password: redis123456
    db: 0
    max-retries: 3
    pool-size: 10
    min-idle-conns: 0
    max-idle-conns: 20
    max-conn-age: 30m0s
    dial-timeout: 0s
    pool-timeout: 4s
    idle-timeout: 5m0s
    read-timeout: 3s
    write-timeout: 3s
    min-retry-backoff: 8ms
    max-retry-backoff: 512ms
    cluster-mode: false
# 嵌套配置
sharded:
    # 模块标识名称 (字符串)
    module-name: sharded
    shard-count: 32
    base-type: memory
    hash-func: fnv
    load-balancer: consistent_hash
# 嵌套配置
two-level:
    # 模块标识名称 (字符串)
    module-name: twolevel
    l1-type: memory
    l2-type: redis
    l1-ttl: 5m0s
    l2-ttl: 30m0s
    sync-strategy: write_through
    l1-size: 1000
    l2-size: 10000
    promote-threshold: 2
# 嵌套配置
expiring:
    # 模块标识名称 (字符串)
    module-name: expiring
    cleanup-interval: 5m0s
    # default ttl (时间间隔: 如 30s, 5m, 1h)
    default-ttl: 30m0s
    max-size: 10000
    eviction-policy: lru
    enable-lazy-expiry: true
    max-memory-usage: 104857600

# middleware模块配置文件
# 模块名称: middleware
# 包名: middleware  
# 描述: 中间件模块
# 生成时间: 2025-11-23 23:53:28
# 注意: 此文件由配置生成器自动生成

# module name配置
module_name: middleware
# enabled配置
enabled: true
# logging配置
logging:
    module_name: logging
    enabled: true
    level: info
    format: json
    output: stdout
    file_path: /var/log/app.log
    max_size: 100
    max_backups: 3
    max_age: 28
    compress: true
    skip_paths:
        - /health
        - /metrics
    enable_request: true
    enable_response: false
# recovery配置
recovery:
    module_name: recovery
    enabled: true
    enable_stack: true
    stack_size: 4096
    enable_debug: false
    error_message: 服务器内部错误
    log_level: error
    enable_notify: false
    print_stack: true
# tracing配置
tracing:
    module_name: tracing
    enabled: false
    service_name: go-rpc-gateway
    service_version: 1.0.0
    environment: development
    endpoint: http://localhost:9411/api/v2/spans
    exporter_type: zipkin
    exporter_endpoint: http://localhost:9411/api/v2/spans
    sample_rate: 0.1
    sampler_type: probability
    sampler_probability: 0.1
    sampler_rate: 0.1
    headers:
        - Authorization
        - User-Agent
    attributes: {}
# metrics配置
metrics:
    module_name: metrics
    enabled: false
    path: /metrics
    namespace: gateway
    subsystem: http
    skip_paths:
        - /health
    buckets:
        - 0.005
        - 0.01
        - 0.025
        - 0.05
        - 0.1
        - 0.25
        - 0.5
        - 1
        - 2.5
        - 5
        - 10
    request_count: true
    duration: true
    request_size: true
    response_size: true
# request id配置
request_id:
    module_name: requestid
    enabled: true
    header_name: X-Request-ID
    generator: uuid
# i18 n配置
i18n:
    module_name: i18n
    enabled: false
    default_language: en
    supported_languages:
        - en
        - zh
    language_mapping:
        en-us: en
        zh-cn: zh
    detection_order:
        - header
        - query
        - cookie
        - default
    language_param: lang
    language_header: Accept-Language
    messages_path: ./locales
    custom_message_paths: {}
    enable_fallback: true
    _: null
    cookie_name: language
# pprof配置
pprof:
    module_name: PProf
    enabled: false
    path_prefix: /debug/pprof
    port: 6060
    enable_profiles:
        cpu: true
        memory: true
        goroutine: true
        block: false
        mutex: false
        heap: true
        allocs: true
        threadcreate: false
        trace: false
    sampling:
        cpu_rate: 100
        memory_rate: 524288
        block_rate: 1
        mutex_fraction: 1
    authentication:
        enabled: false
        auth_token: ""
        allowed_ips: []
        require_auth: false
        timeout: 30
    gateway:
        enabled: false
        dev_mode_only: false
        enable_logging: true
        register_web_interface: true
    web_interface:
        enabled: true
        title: PProf Performance Analysis
        description: Go Performance Profiling Interface
        show_scenarios: true
# circuit breaker配置
circuit_breaker:
    module_name: circuit_breaker
    enabled: true
    failure_threshold: 5
    success_threshold: 2
    timeout: 30000000000
    volume_threshold: 10
    sliding_window_size: 100
    sliding_window_bucket: 1000000000
    prevention_paths:
        - /api/
    exclude_paths:
        - /health
        - /metrics
        - /debug
# alerting配置
alerting:
    module_name: alerting
    enabled: false
    webhooks: []
    channels: []

// middleware模块配置文件
// 模块名称: middleware
// 包名: middleware  
// 描述: 中间件模块
// 生成时间: 2026-02-02 10:10:58
// 注意: 此文件由配置生成器自动生成

{
  "moduleName": "middleware",
  "enabled": false,
  "logging": {
    "moduleName": "logging",
    "enabled": true,
    "level": "info",
    "format": "json",
    "timeFormat": "2006-01-02T15:04:05.999999999Z07:00",
    "output": "stdout",
    "filePath": "/var/log/app.log",
    "maxSize": 100,
    "maxBackups": 3,
    "maxAge": 28,
    "compress": true,
    "skipPaths": [
      "/health",
      "/metrics",
      "/favicon.ico",
      "/ping",
      "/readiness",
      "/liveness"
    ],
    "enableRequest": true,
    "enableResponse": false,
    "maxBodySize": 2048,
    "sensitiveMask": "***REDACTED***",
    "sensitiveKeys": [
      "password",
      "passwd",
      "token",
      "access_token",
      "refresh_token",
      "secret",
      "authorization",
      "api_key",
      "apikey",
      "mobile",
      "phone",
      "id_card",
      "credit_card"
    ],
    "slowHttpThreshold": 1000,
    "slowGrpcThreshold": 1000,
    "slowStreamThreshold": 5000,
    "loggableContentTypes": [
      "application/json",
      "application/xml",
      "application/x-www-form-urlencoded",
      "text/"
    ]
  },
  "recovery": {
    "moduleName": "recovery",
    "enabled": true,
    "enableStack": true,
    "stackSize": 4096,
    "enableDebug": false,
    "errorMessage": "服务器内部错误",
    "logLevel": "error",
    "enableNotify": false,
    "printStack": true
  },
  "tracing": {
    "moduleName": "tracing",
    "enabled": false,
    "serviceName": "go-rpc-gateway",
    "serviceVersion": "1.0.0",
    "environment": "development",
    "endpoint": "http://localhost:9411/api/v2/spans",
    "exporterType": "zipkin",
    "exporterEndpoint": "http://localhost:9411/api/v2/spans",
    "sampleRate": 0.1,
    "samplerType": "probability",
    "samplerProbability": 0.1,
    "samplerRate": 0.1,
    "headers": [
      "Authorization",
      "User-Agent"
    ],
    "attributes": {}
  },
  "metrics": {
    "moduleName": "metrics",
    "enabled": false,
    "path": "/metrics",
    "namespace": "gateway",
    "subsystem": "http",
    "skipPaths": [
      "/health"
    ],
    "buckets": [
      0.005,
      0.01,
      0.025,
      0.05,
      0.1,
      0.25,
      0.5,
      1,
      2.5,
      5,
      10
    ],
    "requestCount": true,
    "duration": true,
    "requestSize": true,
    "responseSize": true
  },
  "requestId": {
    "moduleName": "requestid",
    "enabled": false,
    "headerName": "X-Request-ID",
    "generator": "uuid"
  },
  "i18n": {
    "moduleName": "i18n",
    "enabled": false,
    "defaultLanguage": "en",
    "supportedLanguages": [
      "en",
      "zh"
    ],
    "languageMapping": {
      "en-us": "en",
      "zh-cn": "zh"
    },
    "legacyLanguageMapping": {},
    "resolutionOrder": [
      "legacy",
      "standard"
    ],
    "detectionOrder": [
      "header",
      "query",
      "cookie",
      "default"
    ],
    "languageParam": "lang",
    "languageHeader": "Accept-Language",
    "messagesPath": "./locales",
    "customMessagePaths": {},
    "enableFallback": true,
    "MessageLoader": null,
    "cookieName": "language"
  },
  "pprof": {
    "moduleName": "PProf",
    "enabled": false,
    "pathPrefix": "/debug/pprof",
    "port": 6060,
    "enableProfiles": {
      "cpu": true,
      "memory": true,
      "goroutine": true,
      "block": false,
      "mutex": false,
      "heap": true,
      "allocs": true,
      "threadcreate": false,
      "trace": false
    },
    "sampling": {
      "cpuRate": 100,
      "memoryRate": 524288,
      "blockRate": 1,
      "mutexFraction": 1
    },
    "authentication": {
      "enabled": false,
      "authToken": "",
      "allowedIps": [],
      "requireAuth": false,
      "timeout": 30
    },
    "gateway": {
      "enabled": false,
      "devModeOnly": false,
      "enableLogging": true,
      "registerWebInterface": true
    },
    "webInterface": {
      "enabled": true,
      "title": "PProf Performance Analysis",
      "description": "Go Performance Profiling Interface",
      "showScenarios": true
    }
  },
  "circuitBreaker": {
    "moduleName": "circuit_breaker",
    "enabled": true,
    "failureThreshold": 5,
    "successThreshold": 2,
    "timeout": 30000000000,
    "volumeThreshold": 10,
    "slidingWindowSize": 100,
    "slidingWindowBucket": 1000000000,
    "preventionPaths": [
      "/api/"
    ],
    "excludePaths": [
      "/health",
      "/metrics",
      "/debug"
    ]
  },
  "alerting": {
    "moduleName": "alerting",
    "enabled": false,
    "webhooks": [],
    "channels": []
  },
  "signature": {
    "moduleName": "signature",
    "enabled": false,
    "secretKey": "default-secret-key-change-in-production",
    "signatureHeader": "X-Signature",
    "timestampHeader": "X-Timestamp",
    "nonceHeader": "X-Nonce",
    "algorithm": "SHA256",
    "timeoutWindow": 300000000000,
    "ignorePaths": [
      "/health",
      "/metrics",
      "/ping"
    ],
    "skipQuery": false,
    "skipBody": false
  }
}
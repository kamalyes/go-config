// wsc模块配置文件
// 模块名称: wsc
// 包名: wsc  
// 描述: WebSocket通信模块
// 生成时间: 2025-11-23 13:56:07
// 注意: 此文件由配置生成器自动生成

{
  "enabled": false,
  "node_ip": "0.0.0.0",
  "node_port": 8080,
  "heartbeat_interval": 30,
  "client_timeout": 90,
  "message_buffer_size": 256,
  "websocket_origins": [
    "*"
  ],
  "write_wait": 10000000000,
  "max_message_size": 512,
  "min_rec_time": 2000000000,
  "max_rec_time": 60000000000,
  "rec_factor": 1.5,
  "auto_reconnect": true,
  "max_retries": 3,
  "base_delay": 100000000,
  "max_delay": 5000000000,
  "ack_timeout_ms": 500000000,
  "ack_max_retries": 3,
  "enable_ack": false,
  "backoff_factor": 2,
  "jitter": true,
  "retryable_errors": [
    "queue_full",
    "timeout",
    "conn_error",
    "channel_closed"
  ],
  "non_retryable_errors": [
    "user_offline",
    "permission",
    "validation"
  ],
  "enable_circuit_breaker": false,
  "sse_heartbeat": 0,
  "sse_timeout": 120,
  "sse_message_buffer": 100,
  "distributed": {
    "enabled": false,
    "node_discovery": "redis",
    "node_sync_interval": 30,
    "message_routing": "hash",
    "enable_load_balance": true,
    "health_check_interval": 10,
    "node_timeout": 60,
    "cluster_name": "wsc-cluster"
  },
  "group": {
    "enabled": false,
    "max_group_size": 500,
    "max_groups_per_user": 100,
    "enable_broadcast": true,
    "broadcast_rate_limit": 10,
    "group_cache_expire": 3600,
    "auto_create_group": false,
    "enable_message_record": true
  },
  "enhancement": {
    "enabled": false,
    "smart_routing": true,
    "load_balancing": true,
    "smart_queue": true,
    "monitoring": true,
    "cluster_management": false,
    "rule_engine": true,
    "circuit_breaker": true,
    "message_filtering": true,
    "performance_tracking": true,
    "advanced_metrics": false,
    "alert_system": true,
    "failure_threshold": 5,
    "success_threshold": 3,
    "circuit_timeout": 30,
    "max_queue_size": 1000,
    "metrics_interval": 60,
    "max_samples": 1000,
    "load_balance_algorithm": "round-robin"
  },
  "database": {
    "enabled": true,
    "auto_migrate": true,
    "table_prefix": "wsc_",
    "log_level": "warn",
    "slow_threshold": 200000000
  },
  "queue": {
    "enabled": false,
    "type": "redis",
    "batch_size": 10,
    "max_retries": 3,
    "retry_interval": 5000000000,
    "process_timeout": 30000000000,
    "prefetch_count": 1,
    "dead_letter_ttl": 86400000000000,
    "priority": true,
    "persistent": true
  },
  "jobs": {
    "enabled": false,
    "tasks": {
      "cleanup": {
        "enabled": true,
        "cron": "",
        "interval": 300000000000,
        "timeout": 60000000000,
        "max_retries": 3,
        "description": "清理过期连接和数据",
        "concurrency": 1,
        "skip_if_running": true
      },
      "offline-message": {
        "enabled": true,
        "cron": "",
        "interval": 60000000000,
        "timeout": 30000000000,
        "max_retries": 3,
        "description": "推送离线消息",
        "concurrency": 1,
        "skip_if_running": true
      },
      "queue-process": {
        "enabled": true,
        "cron": "",
        "interval": 10000000000,
        "timeout": 30000000000,
        "max_retries": 5,
        "description": "处理队列任务",
        "concurrency": 2,
        "skip_if_running": true
      },
      "stats-collect": {
        "enabled": true,
        "cron": "0 */5 * * * *",
        "interval": 0,
        "timeout": 60000000000,
        "max_retries": 3,
        "description": "收集统计数据",
        "concurrency": 1,
        "skip_if_running": true
      },
      "status-sync": {
        "enabled": true,
        "cron": "",
        "interval": 30000000000,
        "timeout": 15000000000,
        "max_retries": 3,
        "description": "同步用户在线状态",
        "concurrency": 1,
        "skip_if_running": true
      }
    }
  },
  "logging": {
    "module_name": "wsc",
    "enabled": true,
    "level": "info",
    "format": "json",
    "output": "stdout",
    "file_path": "/var/log/wsc.log",
    "max_size": 100,
    "max_backups": 3,
    "max_age": 28,
    "compress": true,
    "skip_paths": [
      "/health",
      "/metrics"
    ],
    "enable_request": true,
    "enable_response": false
  }
}
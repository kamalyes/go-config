# wsc模块配置文件
# 模块名称: wsc
# 包名: wsc  
# 描述: WebSocket通信模块
# 生成时间: 2025-11-27 01:06:02
# 注意: 此文件由配置生成器自动生成

# enabled配置
enabled: false
# node ip配置
node-ip: 0.0.0.0
# node port配置
node-port: 8080
# heartbeat interval配置
heartbeat-interval: 30
# client timeout配置
client-timeout: 90
# message buffer size配置
message-buffer-size: 256
# web socket origins配置
websocket-origins:
    - '*'
# read timeout配置
read-timeout: 10s
# write timeout配置
write-timeout: 10s
# idle timeout配置
idle-timeout: 2m0s
# max message size配置
max-message-size: 512
# min rec time配置
min-rec-time: 2s
# max rec time配置
max-rec-time: 1m0s
# rec factor配置
rec-factor: 1.5
# auto reconnect配置
auto-reconnect: true
# max retries配置
max-retries: 3
# base delay配置
base-delay: 100ms
# max delay配置
max-delay: 5s
# ack timeout ms配置
ack-timeout-ms: 500ms
# ack max retries配置
ack-max-retries: 3
# enable ack配置
enable-ack: false
# backoff factor配置
backoff-factor: 2
# jitter配置
jitter: true
# retryable errors配置
retryable-errors:
    - queue_full
    - timeout
    - conn_error
    - channel_closed
# non retryable errors配置
non-retryable-errors:
    - user_offline
    - permission
    - validation
# enable circuit breaker配置
enable-circuit-breaker: false
# sseheartbeat配置
sse-heartbeat: 0
# ssetimeout配置
sse-timeout: 120
# ssemessage buffer配置
sse-message-buffer: 100
# distributed配置
distributed:
    enabled: false
    node-discovery: redis
    node-sync-interval: 30
    message-routing: hash
    enable-load-balance: true
    health-check-interval: 10
    node-timeout: 60
    cluster-name: wsc-cluster
# group配置
group:
    enabled: false
    max-group-size: 500
    max-groups-per-user: 100
    enable-broadcast: true
    broadcast-rate-limit: 10
    group-cache-expire: 3600
    auto-create-group: false
    enable-message-record: true
# performance配置
performance:
    max-connections-per-node: 10000
    read-buffer-size: 4
    write-buffer-size: 4
    enable-compression: false
    compression-level: 6
    enable-metrics: true
    metrics-interval: 60
    enable-slow-log: true
    slow-log-threshold: 1000
# security配置
security:
    enable-auth: true
    enable-encryption: false
    enable-rate-limit: true
    max-message-size: 1024
    allowed-user-types:
        - customer
        - agent
        - admin
    blocked-ips: []
    whitelist-ips: []
    enable-ip-whitelist: false
    token-expiration: 3600
    max-login-attempts: 5
    login-lock-duration: 300
# enhancement配置
enhancement:
    enabled: false
    smart-routing: true
    load-balancing: true
# queue配置
    smart-queue: true
    monitoring: true
    cluster-management: false
    rule-engine: true
    circuit-breaker: true
    message-filtering: true
    performance-tracking: true
    advanced-metrics: false
    alert-system: true
    failure-threshold: 5
    success-threshold: 3
    circuit-timeout: 30
    max-queue-size: 1000
    metrics-interval: 60
    max-samples: 1000
    load-balance-algorithm: round-robin
# database配置
database:
    enabled: true
    auto-migrate: true
    table-prefix: wsc_
    log-level: warn
    slow-threshold: 200ms
queue:
    enabled: false
    type: redis
    batch-size: 10
    max-retries: 3
    retry-interval: 5s
    process-timeout: 30s
    prefetch-count: 1
    dead-letter-ttl: 24h0m0s
    priority: true
    persistent: true
# jobs配置
jobs:
    enabled: false
    tasks:
        cleanup:
            enabled: true
            cron: ""
            interval: 5m0s
            timeout: 1m0s
            max-retries: 3
            description: 清理过期连接和数据
            concurrency: 1
            skip-if-running: true
        offline-message:
            enabled: true
            cron: ""
            interval: 1m0s
            timeout: 30s
            max-retries: 3
            description: 推送离线消息
            concurrency: 1
            skip-if-running: true
        queue-process:
            enabled: true
            cron: ""
            interval: 10s
            timeout: 30s
            max-retries: 5
            description: 处理队列任务
            concurrency: 2
            skip-if-running: true
        stats-collect:
            enabled: true
            cron: 0 */5 * * * *
            interval: 0s
            timeout: 1m0s
            max-retries: 3
            description: 收集统计数据
            concurrency: 1
            skip-if-running: true
        status-sync:
            enabled: true
            cron: ""
            interval: 30s
            timeout: 15s
            max-retries: 3
            description: 同步用户在线状态
            concurrency: 1
            skip-if-running: true
# logging配置
logging:
    module_name: wsc
    enabled: true
    level: info
    format: json
    output: stdout
    file-path: /var/log/wsc.log
    max-size: 100
    max-backups: 3
    max-age: 28
    compress: true
    skip-paths:
        - /health
        - /metrics
    enable-request: true
    enable-response: false
